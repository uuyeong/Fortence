# 🌐 외부 접속 가이드

## 문제 해결 완료! ✅

외부에서 접속할 때 프론트엔드는 작동하지만 백엔드가 작동하지 않는 문제를 해결했습니다.

## 🔧 수정된 내용

1. **동적 API URL 설정**: 하드코딩된 `localhost:5001`을 동적으로 설정되도록 변경
2. **자동 호스트 감지**: 외부에서 접속할 때 자동으로 현재 호스트의 5001 포트로 연결
3. **환경 변수 지원**: `REACT_APP_API_URL` 환경 변수로 API URL 커스터마이징 가능

## 🚀 사용 방법

### 1. 기본 사용 (실제 서버 IP)
- 외부에서 접속하면 자동으로 실제 서버 IP(`121.138.24.119:5001`)로 연결됩니다.
- 예: 외부에서 `http://121.138.24.119:3000`에서 접속하면 자동으로 `http://121.138.24.119:5001`으로 API 요청

### 2. 환경 변수 사용
프로젝트 루트에 `.env` 파일 생성:
```
REACT_APP_API_URL=http://your-server-ip:5001
```

### 3. 수동 설정
`public/config.json` 파일에서 API URL 수정 (현재는 사용되지 않음, 향후 확장 가능)

## 🔍 확인 방법

1. **백엔드 서버 실행**:
   ```bash
   cd backend
   python app.py
   ```
   서버가 `0.0.0.0:5001`에서 실행되는지 확인

2. **프론트엔드 서버 실행**:
   ```bash
   npm start
   ```

3. **외부에서 접속**:
   - 다른 기기에서 `http://서버IP:3000`으로 접속
   - 자동으로 `http://서버IP:5000`으로 API 요청이 전송됩니다

## 🛠️ 백엔드 설정 확인

백엔드는 이미 외부 접속이 가능하도록 설정되어 있습니다:
```python
app.run(debug=True, host='0.0.0.0', port=5001)
```

## 🔐 방화벽 확인

서버에서 5001 포트가 열려있는지 확인하세요:
```bash
# Windows
netstat -an | findstr :5001

# Linux/Mac
netstat -an | grep :5001
```

## 🔄 동작 방식

- **로컬 접속** (`localhost:3000`): `http://localhost:5001`으로 API 요청
- **외부 접속** (모든 외부 IP): `http://121.138.24.119:5001`으로 API 요청

## 🎯 테스트

브라우저 개발자 도구 > 네트워크 탭에서 API 요청이 올바른 URL로 전송되는지 확인할 수 있습니다.

## 📍 현재 서버 정보

- **서버 IP**: 121.138.24.119
- **프론트엔드 포트**: 3000
- **백엔드 포트**: 5001
- **외부 접속 URL**: http://121.138.24.119:3000
